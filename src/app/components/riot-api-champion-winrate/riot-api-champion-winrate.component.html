<div class="stats-container container my-5 p-4 rounded shadow bg-dark text-light">
  <div class="text-center mb-4">
    <h2 class="text-gold">Statistiques des 20 derniers matchs classés</h2>
    <input
      type="text"
      placeholder="Entrez NameGame#Tagline"
      [(ngModel)]="searchInput"
      (keyup.enter)="onSearch()"
      class="form-control w-50 mx-auto my-3 search-input"
    />
    <button (click)="onSearch()" class="btn btn-primary" [disabled]="loading">
      {{ loading ? 'Chargement...' : 'Rechercher' }}
    </button>
  </div>

  <div *ngIf="loading" class="text-center my-4">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Chargement...</span>
    </div>
  </div>

  <div *ngIf="matchStats" class="mt-4">
    <div class="summary">
      <h3 class="text-gold">Résumé</h3>
      <p><span class="fw-bold">Victoires :</span> {{ matchStats.wins }}</p>
      <p><span class="fw-bold">Défaites :</span> {{ matchStats.losses }}</p>
      <p><span class="fw-bold">Parties avec premier dragon :</span> {{ matchStats.firstDragonGames }}</p>
      <p><span class="fw-bold">Victoires avec premier dragon :</span> {{ matchStats.firstDragonWins }}</p>
    </div>

    <div class="champion-lists row mt-4">
      <div class="col-md-6">
        <h4 class="text-gold">Alliés les plus fréquents (victoires)</h4>
        <ul class="list-group">
          <li *ngFor="let ally of matchStats.topAlliesWin" class="list-group-item bg-dark text-light">
            {{ ally }}
          </li>
        </ul>
      </div>

      <div class="col-md-6">
        <h4 class="text-gold">Alliés les plus fréquents (défaites)</h4>
        <ul class="list-group">
          <li *ngFor="let ally of matchStats.topAlliesLoss" class="list-group-item bg-dark text-light">
            {{ ally }}
          </li>
        </ul>
      </div>
    </div>

    <div class="champion-lists row mt-4">
      <div class="col-md-6">
        <h4 class="text-gold">Ennemis les plus fréquents (victoires)</h4>
        <ul class="list-group">
          <li *ngFor="let enemy of matchStats.topEnemiesWin" class="list-group-item bg-dark text-light">
            {{ enemy }}
          </li>
        </ul>
      </div>

      <div class="col-md-6">
        <h4 class="text-gold">Ennemis les plus fréquents (défaites)</h4>
        <ul class="list-group">
          <li *ngFor="let enemy of matchStats.topEnemiesLoss" class="list-group-item bg-dark text-light">
            {{ enemy }}
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
